# VTuber API

Welcome to the VTuber API section, I'll be unpacking some extra info from the [Getting Started](graphql_start.md) part.

This API are updating automatically via node-scheduler (Running on another server.):<br>
- **Every 1 minute** for YouTube/Twitch/Twitcasting Live Streams data.
- **Every 2/3 minutes** for YouTube Upcoming Streams data.
- **Every 6 hours** for Channels Info/Stats.

You could contact me at **Discord: *N4O#8868***<br>
If you need more Other VTubers to add to the list.<br>
After you add me, please Send Message directly so I'll know.

Currently registered groups:
* holopro: Hololive Production
  * hololive: Hololive JP Main Branch (including INNK)
  * hololiveid: Hololive Indonesia Branch
  * hololiveen: Hololive English Branch
  * holostars: Holostars
* nijisanji: Nijisanji
  * nijisanji: Nijisanji JP Main Branch
  * nijisanjikr: Nijisanji Korea Branch
  * nijisanjiin: Nijisanji India Branch
  * nijisanjiid: Nijisanji Indonesia Branch
* nanashi: Nanashi/774 inc.
  * animare
  * honeystrap
  * sugarlyric
  * vapart
* vspo: VTuber eSports Organization
  * lupinusvg: Lupinus Video Games
  * cattleyarg: Cattleya Regina Games
  * irisbg: Iris Black Games
* dotlive: .LIVE
* eilene
* entum
* hanayori: Hanayori Girls Dormitory
* kizunaai: Kizuna AI and Co.
* mahapanca
* noriopro
* paryiproject
* upd8
* solovtuber: Other VTubers that are Indie
* vgaming
* vic
* voms
* vshojo

All of those groups could be used in the `groups` variables.

**Table of Contents**:
- [Schemas](#schemas)
  - [LiveObject](#liveobject)
  - [ChannelObject](#channelobject)
- [Variables](#variables)

## Schemas

This is the GraphQL schemas that can be used to request to the VTuber API.

You can see it more in detail in the [API References](https://api.ihateani.me/v2/gql-docs/api-references)

```graphql
vtuber {
    "Get currently live stream"
    live {
        _total
        items {

        }
        pageInfo {
            "Total currently returned result"
            total_results
            "Results per page"
            results_per_page
            "Next cursor for pagination"
            nextCursor
            "Is there any new next page or not"
            hasNextPage
        }
    }
    "Get upcoming stream"
    upcoming {
        _total
        items {

        }
        pageInfo {
            "Total currently returned result"
            total_results
            "Results per page"
            results_per_page
            "Next cursor for pagination"
            nextCursor
            "Is there any new next page or not"
            hasNextPage
        }
    }
    "Get already ended live stream"
    ended {
        _total
        items {

        }
        pageInfo {
            "Total currently returned result"
            total_results
            "Results per page"
            results_per_page
            "Next cursor for pagination"
            nextCursor
            "Is there any new next page or not"
            hasNextPage
        }
    }
    "Get uploaded videos"
    videos {
        _total
        items {

        }
        pageInfo {
            "Total currently returned result"
            total_results
            "Results per page"
            results_per_page
            "Next cursor for pagination"
            nextCursor
            "Is there any new next page or not"
            hasNextPage
        }
    }
    "Fetch channels info"
    channels {
        _total
        items {

        }
        pageInfo {
            "Total currently returned result"
            total_results
            "Results per page"
            results_per_page
            "Next cursor for pagination"
            nextCursor
            "Is there any new next page or not"
            hasNextPage
        }
    }
}
```

Then there's something called `LiveObject`, this object can be put in the `items` data, and it will be the same for `live`, `upcoming`, `ended`, `videos`.<br>
The only difference is probably missing data because not all of them has it.

While `channels` there's something called `ChannelObject`.

`_total` will return the full total data for that query object.

`pageInfo` are used for pagination, read more here: [Pagination](pagination.md)


### LiveObject
```graphql
{
    "The ID of the stream, auto-generated by platforms"
    id
    "Room ID, exclusive to bilibili platform"
    room_id
    "The stream title"
    title
    timeData {
        "The stream start time in UNIX timestamp seconds"
        startTime
        "The stream end time in UNIX timestamp seconds"
        endTime
        "The stream scheduled start time in UNIX timestamp seconds"
        scheduledStartTime
        "The time the stream/video are published to the platform, follow ISO8601 format"
        publishedAt
        "The stream late time between scheduled and real start time (in seconds)"
        lateBy
        "The duration of the stream in seconds"
        duration
    }
    "The VTuber channel ID"
    channel_id
    channel {

    }
    "The stream thumbnail"
    thumbnail
    "Stream status, should be `live` or `upcoming` or `past` or `video`"
    status
    "Current stream viewers"
    viewers
    "Peak viewers of the stream"
    peakViewers
    "Is the stream missing a.k.a privated?"
    is_missing
    "Is this stream a premiere or not? (Exclusive to Youtube)"
    is_premiere
    "The group/organization that the VTuber belongs to"
    group
    "The stream platform"
    platform
}
```

`channel` are [ChannelObject](#channelobject)

### ChannelObject
```graphql
{
    "The channel ID"
    id
    "The User ID for the channel, exclusive to Twitch"
    user_id
    "The room ID for the channel, exclusive to BiliBili"
    room_id
    "The channel name"
    name
    "The channel description"
    description
    "The channel published/creation time, follow ISO8601 date format"
    publishedAt
    "The VTuber profile picture"
    image
    "The VTuber latest channels statistics"
    statistics {
        "The channel subscriber count for Youtube, or follower count for everything elses"
        subscriberCount
        "The channel view count"
        viewCount
        "The channel total uploaded video and live streams"
        videoCount
        "The channel level, exclusive to Twitcasting"
        level
    }
    "The VTuber Growth data"
    growth {
        "Subscribers/Followers growth data"
        subscribersGrowth {
            "Growth in 1 day or last day"
            oneDay
            "Growth in the last week"
            oneWeek
            "Growth in the last 2 weeks"
            twoWeeks
            "Growth in the last 1 month"
            oneMonth
            "Growth in the last 6 month"
            sixMonths
            "Growth in the last 1 year"
            oneYear
            "Timestamp of last updated (UNIX time, in seconds)"
            lastUpdated
        }
        "Views growth data"
        viewsGrowth {
            "Growth in 1 day or last day"
            oneDay
            "Growth in the last week"
            oneWeek
            "Growth in the last 2 weeks"
            twoWeeks
            "Growth in the last 1 month"
            oneMonth
            "Growth in the last 6 month"
            sixMonths
            "Growth in the last 1 year"
            oneYear
            "Timestamp of last updated (UNIX time, in seconds)"
            lastUpdated
        }
    }
    "Is the VTuber live or not? (Exclusive to Bilibili)"
    is_live
    "The VTuber channel platform"
    platform
}
```

## Variables

The variables that could be sent to the API

<!-- tabs:start -->

#### ** live **

The `live` object have the following variables that the server can accept:
* **channel_id**: a List, this will only return a live streams that are listed inside the `channel_id`
* **groups**: a List, limit the results into the groups
* **platforms**: a List, limit the result to some platforms only, valid data are: `youtube`, `bilibili`, `twitch`, `twitcasting`
* **sort_by**: sort the data by using a certain key from the object returned.
* **sort_order**: The order of the sort, default are `asc` a.k.a ascending order, valid data are: `asc`, `ascending`, `desc`, `descending`
* **limit**: limit the result to certain number, default 25 max 50.
* **cursor**: used for pagination, add the `pageInfo` to the query with `nextCursor` field to get the next cursor available.

#### ** upcoming **

The `upcoming` object have the following variables that the server can accept, it's mostly the same as `live` object:
* **channel_id**: a List, this will only return a upcoming streams that are listed inside the `channel_id`
* **groups**: a List, limit the results into the groups
* **platforms**: a List, limit the result to some platforms only, valid data are: `youtube`, `bilibili`, `twitch`, `twitcasting`
* **sort_by**: sort the data by using a certain key from the object returned.
* **sort_order**: The order of the sort, default are `asc` a.k.a ascending order, valid data are: `asc`, `ascending`, `desc`, `descending`
* **limit**: limit the result to certain number, default 25 max 50.
* **cursor**: used for pagination, add the `pageInfo` to the query with `nextCursor` field to get the next cursor available.

#### ** ended **

The `ended` object have the following variables that the server can accept:
* **channel_id**: a List, this will only return a past streams that are listed inside the `channel_id`
* **groups**: a List, limit the results into the groups
* **platforms**: a List, limit the result to some platforms only, valid data are: `youtube`, `bilibili`, `twitch`, `twitcasting`
* **sort_by**: sort the data by using a certain key from the object returned.
* **sort_order**: The order of the sort, default are `asc` a.k.a ascending order, valid data are: `asc`, `ascending`, `desc`, `descending`
* **max_lookback**: The maximum lookback for past live stream in hours, maximum are `24`, default are `6` hours.
* **limit**: limit the result to certain number, default 25 max 50.
* **cursor**: used for pagination, add the `pageInfo` to the query with `nextCursor` field to get the next cursor available.

#### ** videos **

The `videos` object have the following variables that the server can accept, it's mostly the same as `live` or `upcoming` object:
* **channel_id**: a List, this will only return a videos that are listed inside the `channel_id`
* **groups**: a List, limit the results into the groups
* **platforms**: a List, limit the result to some platforms only, valid data are: `youtube`, `bilibili`, `twitch`, `twitcasting`
* **sort_by**: sort the data by using a certain key from the object returned.
* **sort_order**: The order of the sort, default are `asc` a.k.a ascending order, valid data are: `asc`, `ascending`, `desc`, `descending`
* **limit**: limit the result to certain number, default 25 max 50.
* **cursor**: used for pagination, add the `pageInfo` to the query with `nextCursor` field to get the next cursor available.

#### ** channels **

The `upcoming` object have the following variables that the server can accept, it's mostly the same as `live` object:
* **id**: a List, this will only return a channels that are listed inside the `id`
* **groups**: a List, limit the results into the groups
* **platforms**: a List, limit the result to some platforms only, valid data are: `youtube`, `bilibili`, `twitch`, `twitcasting`
* **sort_by**: sort the data by using a certain key from the object returned.
* **sort_order**: The order of the sort, default are `asc` a.k.a ascending order, valid data are: `asc`, `ascending`, `desc`, `descending`
* **limit**: limit the result to certain number, default 25 max 50.
* **cursor**: used for pagination, add the `pageInfo` to the query with `nextCursor` field to get the next cursor available.

<!-- tabs:end -->